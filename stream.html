<!--
Twitch Stream Jackpot para ElRichMC

Copyright (c) 2017 Marcos Gómez
Idea y diseño: PatoGraphics, ElRichMC

Está prohibida la distribución no autorizada de 
este material o parte de él.

Source: http://github.com/margobra8/jackpot
Contacto: https://twitter.com/margobra8
-->


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script>
    function set_body_height() {
        $('body').height($(window).height());
    }
    $(document).ready(function () {
        $(window).bind('resize', set_body_height);
        set_body_height();
    });
</script>


<style>
    * {
        padding: 0;
        margin: 0;
    }

    body {
        background-color: #00ff00;
    }

    .fit {
        /* tamaño relativo a la ventana */
        max-width: 100%;
        max-height: 100%;
    }

    .center {
        display: float;
        margin: auto;
    }

    .overlay {
        position: absolute;
        top: 0;
        left: 0;
    }

    .slot1 {
        display: none;
        background-color: white;
        position: absolute;
        top: 42.1%;
        left: 5.3%;
        height: 35.6%;
    }

    .slot2 {
        display: none;
        background-color: white;
        position: absolute;
        top: 42%;
        left: 18.15%;
        height: 35.62%;
    }

    .slot3 {
        display: none;
        background-color: white;
        position: absolute;
        top: 42%;
        left: 30.85%;
        height: 35.62%;
    }

    .hidden {
        display: none;
    }
</style>


<div id="container" class="fit">
    <video id="vid" class="overlay fit">
        <source id="file" src="rcl.mp4" type="video/mp4">
    </video>
    <audio id="music">
        <source id="jingle" src="audio.mp3" type="audio/mpeg">
    </audio>
</div>


<script>
    function generar() {
        var random = 1 + Math.floor(Math.random() * 15);
        return random;
    }

    function determinarPremios() {
        var num = Math.floor(Math.random() * (150 - 1 + 1) + 1);
        console.log(num);

        if (num == 1) {
            $("#file").attr("src", "Jackpot1.mp4");
            $("#jingle").attr("src", "ganar.mp3");
            return "777";
        } else if (num <= 21 && num > 1) {
            $("#file").attr("src", "Jackpot4.mp4");
            $("#jingle").attr("src", "ganar.mp3");
            return "FAIL";
        } else if (num <= 41 && num > 21) {
            $("#file").attr("src", "Jackpot6.mp4");
            $("#jingle").attr("src", "ganar.mp3");
            return "RELOJ";
        } else if (num <= 56 && num > 41) {
            $("#file").attr("src", "Jackpot3.mp4");
            $("#jingle").attr("src", "ganar.mp3");
            return "ENDER PEARL";
        } else if (num <= 71 && num > 56) {
            $("#file").attr("src", "Jackpot7.mp4");
            $("#jingle").attr("src", "ganar.mp3");
            return "RICH";
        } else if (num <= 90 && num > 71) {
            $("#file").attr("src", "Jackpot5.mp4");
            $("#jingle").attr("src", "ganar.mp3");
            return "MARTILLO";
        } else if (num <= 100 && num > 90) {
            $("#file").attr("src", "Jackpot2.mp4");
            $("#jingle").attr("src", "ganar.mp3");
            return "BIT";
        } else {
            $("#file").attr("src", "Fail" + generar() + ".mp4");
            $("#jingle").attr("src", "perder.mp3");
            return "NADA";
        }

    }

/*     $("#vid")[0].play(); */

    determinarPremios();

    $("#music")[0].play();
/* 
    setTimeout(function () {
        $("#imga").fadeIn("50");
        setTimeout(function () {
            $("#imgb").fadeIn("50");
            setTimeout(function () {
                $("#imgc").fadeIn("50");
            }, 350);
        }, 300);
    }, 4000); */

</script>